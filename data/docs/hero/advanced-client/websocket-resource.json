{
  "content": "<h1 id=\"websocketresource\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#websocketresource\">#</a>WebsocketResource</h1>\n<blockquote>\n<p>Websocket Resources are core websocket connections between a client and server.</p>\n</blockquote>\n<p>Instances of this class are associated with a resource returned from <a href=\"/docs/hero/advanced-client/tab##wait-for-resource\"><code>tab.waitForResource</code></a>, listening for resources <a href=\"/docs/hero/advanced-client/tab#resource-event\"><code>tab.on('resource')</code></a> or from the initial window document load. It contains all properties of a <code>Resource</code> in addition to an ability to subscribe to messages sent back and forth.</p>\n<h2 id=\"properties\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#properties\">#</a>Properties</h2>\n<h3 id=\"request\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#request\">#</a>request</h3>\n<p>The Http Upgrade request used to create this Websocket.</p>\n<h4 id=\"returns-resourcerequest\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#returns-resourcerequest\">#</a><strong>Returns</strong> <a href=\"/docs/hero/advanced-client/resource-request\"><code>ResourceRequest</code></a></h4>\n<h3 id=\"response\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#response\">#</a>response</h3>\n<p>A simulation of an HTTP response pieced together from the socket headers returned during a normal HTTP upgrade.</p>\n<h4 id=\"returns-resourceresponse\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#returns-resourceresponse\">#</a><strong>Returns</strong> <a href=\"/docs/hero/advanced-client/resource-response\"><code>ResourceResponse</code></a></h4>\n<h3 id=\"url\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#url\">#</a>url</h3>\n<p>The Http Upgrade url.</p>\n<h4 id=\"returns-string\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#returns-string\">#</a><strong>Returns</strong> <code>string</code></h4>\n<h3 id=\"type\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#type\">#</a>type</h3>\n<p>The type of resource.</p>\n<h4 id=\"returns-resourcetypewebsocket\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#returns-resourcetypewebsocket\">#</a><strong>Returns</strong> <code>ResourceType=WebSocket</code></h4>\n<h3 id=\"isredirect\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#isredirect\">#</a>isRedirect</h3>\n<p>Was this request redirected</p>\n<h4 id=\"returns-boolean\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#returns-boolean\">#</a><strong>Returns</strong> <code>boolean</code></h4>\n<h3 id=\"data\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#data\">#</a>data</h3>\n<p>Invalid call. Throws an Error. To subscribe to messages, see <code>on('message', callback)</code></p>\n<h4 id=\"returns-promisebuffer\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#returns-promisebuffer\">#</a><strong>Returns</strong> <code>Promise&#x3C;Buffer></code></h4>\n<h2 id=\"methods\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#methods\">#</a>Methods</h2>\n<h3 id=\"on\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#on\">#</a>on<em>('message', callback: <a href=\"#websocket-message\"><code>WebsocketMessage</code></a> => any)</em></h3>\n<p>Called on each websocket message returned.</p>\n<h4 id=\"websocket-message\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#websocket-message\">#</a><code>WebsocketMessage</code> contain:</h4>\n<ul>\n<li>message <code>string | Buffer</code> - the contents of the message</li>\n<li>source <code>server | client</code> - where the message originated</li>\n</ul>\n<h4 id=\"returns-promisevoid\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#returns-promisevoid\">#</a><strong>Returns</strong> <code>Promise&#x3C;void></code></h4>\n<h3 id=\"off\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#off\">#</a>off<em>('message', callback: <a href=\"#websocket-message\"><code>WebsocketMessage</code></a> => any)</em></h3>\n<p>Unsubscribe to messages.</p>\n<h4 id=\"returns-promisevoid-1\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#returns-promisevoid-1\">#</a><strong>Returns</strong> <code>Promise&#x3C;void></code></h4>\n<h3 id=\"once\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#once\">#</a>once<em>('message', callback: <a href=\"#websocket-message\"><code>WebsocketMessage</code></a> => any)</em></h3>\n<p>Subscribe to a single websocket message</p>\n<h4 id=\"returns-promisevoid-2\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#returns-promisevoid-2\">#</a><strong>Returns</strong> <code>Promise&#x3C;void></code></h4>\n<h3 id=\"add-event-listener\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#add-event-listener\">#</a>addEventListener<em>('message', callback: <a href=\"#websocket-message\"><code>WebsocketMessage</code></a> => any)</em></h3>\n<p>Alias for <code>on('message', callback')</code></p>\n<h4 id=\"returns-promisevoid-3\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#returns-promisevoid-3\">#</a><strong>Returns</strong> <code>Promise&#x3C;void></code></h4>\n<h3 id=\"remove-event-listener\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#remove-event-listener\">#</a>removeEventListener<em>('message', callback: <a href=\"#websocket-message\"><code>WebsocketMessage</code></a> =>  any)</em></h3>\n<p>Alias for <code>off('message', callback')</code></p>\n<h4 id=\"returns-promisevoid-4\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#returns-promisevoid-4\">#</a><strong>Returns</strong> <code>Promise&#x3C;void></code></h4>\n<h3 id=\"text\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#text\">#</a>text<em>()</em></h3>\n<p>Invalid call. Throws an Error. To subscribe to messages, see <code>on('message', callback)</code></p>\n<h4 id=\"returns-promisestring\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#returns-promisestring\">#</a><strong>Returns</strong> <code>Promise&#x3C;string></code></h4>\n<h3 id=\"json\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#json\">#</a>json<em>()</em></h3>\n<p>Invalid call. Throws an Error. To subscribe to messages, see <code>on('message', callback)</code></p>\n<h4 id=\"returns-promisejson\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#returns-promisejson\">#</a><strong>Returns</strong> <code>Promise&#x3C;json></code></h4>",
  "title": "WebsocketResource",
  "subtitles": [
    {
      "depth": 2,
      "value": "Properties",
      "anchor": "#properties"
    },
    {
      "depth": 3,
      "value": "request",
      "anchor": "#request"
    },
    {
      "depth": 3,
      "value": "response",
      "anchor": "#response"
    },
    {
      "depth": 3,
      "value": "url",
      "anchor": "#url"
    },
    {
      "depth": 3,
      "value": "type",
      "anchor": "#type"
    },
    {
      "depth": 3,
      "value": "isRedirect",
      "anchor": "#isredirect"
    },
    {
      "depth": 3,
      "value": "data",
      "anchor": "#data"
    },
    {
      "depth": 2,
      "value": "Methods",
      "anchor": "#methods"
    },
    {
      "depth": 3,
      "value": "on<em>('message', callback:  => any)</em>",
      "anchor": "#on"
    },
    {
      "depth": 3,
      "value": "off<em>('message', callback:  => any)</em>",
      "anchor": "#off"
    },
    {
      "depth": 3,
      "value": "once<em>('message', callback:  => any)</em>",
      "anchor": "#once"
    },
    {
      "depth": 3,
      "value": "addEventListener<em>('message', callback:  => any)</em>",
      "anchor": "#add-event-listener"
    },
    {
      "depth": 3,
      "value": "removeEventListener<em>('message', callback:  =>  any)</em>",
      "anchor": "#remove-event-listener"
    },
    {
      "depth": 3,
      "value": "text<em>()</em>",
      "anchor": "#text"
    },
    {
      "depth": 3,
      "value": "json<em>()</em>",
      "anchor": "#json"
    }
  ]
}